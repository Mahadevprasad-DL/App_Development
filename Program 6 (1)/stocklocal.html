<!DOCTYPE html>
<html>
<head>
</head>
<body>
<center>
<h1>Simple Balance Sheet Statement(Local Fetch)</h1>
<table id='tbl' border=1>
<tr>
<th style="width: 90px;">Date</th>
<th style="width: 120px;">Receivables</th>
<th style="width: 120px;">Cash and cash equivalents</th>
<th style="width: 120px;">Total currency assets</th>
            <th style="width: 120px;">Payables</th>
            <th style="width: 120px;">Net Debt</th>
        </tr>
    </table>
</center>
</body>
<script>
window.addEventListener('DOMContentLoaded', (event) => {
    let source = ["./stocks.json"];
    let index = 0;

    while (index < source.length) {
        console.log("fetching from " + source[index]);
        fetch(source[index])
            .then(response => response.json())
            .then(data => {
                var dat = JSON.stringify(data);
                dat1 = data;
                console.log(dat1);

                var bod = document.getElementById("body");
                var tb = document.getElementById("tbl");

                for (let i = 0; i < dat1.length; i++) {
                    var tr = document.createElement('tr');

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i].date;
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i].netReceivables;
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["cashAndCashEquivalents"];
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["totalCurrentAssets"];
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i].accountPayables;
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["netDebt"];
                    tr.appendChild(td);

                    tb.appendChild(tr);
                }
            })
            .catch(error => console.log('error', error));

        index += 1;
    }
});
</script>
</html>
